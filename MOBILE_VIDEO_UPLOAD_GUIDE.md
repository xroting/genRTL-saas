# 移动端视频上传指南 - 角色功能

## 📱 问题说明

在移动端（iPhone/Android）使用角色功能时，由于浏览器的自动优化，上传的视频可能被压缩或截断，导致生成的视频时长变短。

### 典型表现

- **原始视频**：8秒，10-20MB
- **上传后**：2秒，1-3MB
- **原因**：移动端浏览器（Safari/Chrome）在文件选择时自动压缩视频

## ✅ 解决方案

### 方案1：使用PC端（推荐）

**最可靠的方法**是在电脑浏览器上使用角色功能：
1. 打开 Chrome/Firefox/Safari 桌面版
2. 访问网站并上传视频
3. 生成的视频将保持原始时长

### 方案2：移动端使用原始视频文件

如果必须在手机上操作，请遵循以下步骤：

#### iPhone (iOS)

1. **使用"文件"App**：
   - 不要从相册直接选择视频
   - 先将视频导出到"文件"App
   - 从"文件"App中选择视频文件

2. **使用AirDrop**：
   - 从电脑通过AirDrop发送视频到手机
   - 保存到"文件"App
   - 从"文件"App上传

3. **使用第三方应用**：
   - 使用专业的视频App（如VLC）保存原始视频
   - 从这些App中选择文件上传

#### Android

1. **使用文件管理器**：
   - 不要从图库直接选择
   - 使用文件管理器（如"我的文件"）
   - 选择原始视频文件

2. **使用Google Drive**：
   - 从电脑上传视频到Google Drive
   - 在手机上从Drive下载原始文件
   - 使用文件管理器选择下载的文件

### 方案3：验证上传文件大小

上传视频后，**务必检查页面显示的信息**：

```
✅ 正常：文件大小: 8.5MB | 视频时长: 8.0秒
❌ 异常：⚠️ 文件大小: 1.34MB (可能被浏览器压缩) | 视频时长: 2.1秒
```

**如果看到警告**：
1. 说明视频已被压缩
2. 生成的结果也会只有2-3秒
3. 建议重新选择文件或使用PC端

## 🔍 技术原因

### 为什么移动端会压缩视频？

1. **浏览器优化**：
   - 移动浏览器为节省流量和内存
   - 自动对选择的媒体文件进行压缩

2. **iOS相册导出**：
   - iOS系统在导出视频时会自动优化
   - 可能降低分辨率和比特率
   - 可能截断视频长度

3. **Act-Two API限制**：
   - Runway的Act-Two不支持自定义时长参数
   - 只能使用输入视频的实际长度
   - 如果输入2秒，输出也是2秒

## 📊 如何判断视频是否被压缩

### 查看文件信息

上传时会显示：
- ✅ **文件大小**：应该 > 3MB（对于5秒以上的视频）
- ✅ **视频时长**：应该与原始视频一致
- ⚠️ 如果文件小于3MB且时长短，说明被压缩了

### 预期文件大小参考

| 视频时长 | 正常文件大小 | 压缩后大小 |
|---------|------------|-----------|
| 3秒     | 3-8MB      | < 1MB     |
| 5秒     | 5-12MB     | 1-2MB     |
| 8秒     | 8-20MB     | 1-3MB     |
| 10秒    | 10-25MB    | 2-4MB     |

## 🎯 最佳实践

### 推荐配置

1. **视频时长**：3-10秒
2. **文件大小**：3MB以上
3. **分辨率**：720p或1080p
4. **格式**：MP4（H.264编码）

### 不推荐

- ❌ 从相册直接选择（iOS/Android）
- ❌ 使用超高分辨率（4K）视频
- ❌ 使用过长的视频（>10秒会被截断）

## 🛠️ 故障排查

### 问题：生成的视频只有2-3秒

**检查步骤**：

1. **确认上传时的文件大小**
   - 查看页面显示的"文件大小"
   - 如果 < 3MB，说明被压缩了

2. **确认上传时的视频时长**
   - 查看页面显示的"视频时长"
   - 如果与原始视频不符，说明被截断了

3. **尝试替代方案**
   - 使用PC端浏览器
   - 或按照"方案2"重新选择文件

### 问题：无法上传视频

**可能原因**：

1. 文件格式不支持
   - 支持：MP4, MOV, WebM
   - 不支持：AVI, FLV, MKV

2. 文件过大
   - 最大限制：64MB
   - 建议：10-30MB

3. 网络问题
   - 检查网络连接
   - 尝试使用WiFi而非移动数据

## 📞 需要帮助？

如果按照以上指引仍然无法解决问题，请联系技术支持并提供：

1. 使用的设备和浏览器
2. 原始视频的时长和大小
3. 上传后页面显示的信息
4. 浏览器控制台的日志（如果可以）

---

**更新日期**：2025-11-12
**版本**：1.0
